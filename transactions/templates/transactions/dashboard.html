<h1>Dashboard</h1>

<form method="get">
  <label for="month">Month:</label>
  <select name="month" id="month">
    <option value="">All time</option>
    {% for m in month_options %}
      <option value="{{ m }}" {% if month == m %}selected{% endif %}>{{ m }}</option>
    {% endfor %}
  </select>
  <button type="submit">Filter</button>
</form>

<hr>

<p><strong>Total Income:</strong> ${{ income_total }}</p>
<p><strong>Total Expenses:</strong> ${{ expense_total }}</p>
<p><strong>Net:</strong> ${{ net }}</p>

<hr>

<h2>Expenses</h2>
<ul>
  {% for row in expense_by_category %}
    <li>{{ row.category }} — ${{ row.total }}</li>
  {% empty %}
    <li>No expense transactions in this range.</li>
  {% endfor %}
</ul>

<h2>Income</h2>
<ul>
  {% for row in income_by_category %}
    <li>{{ row.category }} — ${{ row.total }}</li>
  {% empty %}
    <li>No income transactions in this range.</li>
  {% endfor %}
</ul>


<p><a href="{% url 'transactions:list' %}">Back to Transactions</a></p>
